(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd96e65a"],{"7cd5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"mt-5 p-4 bgd",staticStyle:{width:"60%"},attrs:{id:"dark-container"}},[a("b-container",{staticClass:"mt-4",attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1 pl-0",attrs:{sm:"6",md:"6"}},[a("b-form-group",{staticClass:"mb-0 text-white lbl-page",attrs:{label:"Por Página","label-for":"pageSelect","label-cols-sm":"7","label-cols-md":"5","label-cols-lg":"4","label-cols-xl":"3","label-align-sm":"left pr-0","label-size":"sm"}},[a("b-form-select",{staticClass:"selectPage",attrs:{id:"pageSelect",options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1 pr-0 pl-0",attrs:{sm:"6",md:"6"}},[a("b-form-group",{staticClass:"mb-3 text-white",attrs:{label:"Filtrar:","label-for":"filter-input","label-cols-sm":"6","label-cols-md":"3","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Pesquisar"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[a("em",{staticClass:"fa fa-refresh"})])],1)],1)],1)],1)],1)],1),a("b-table",{attrs:{"head-variant":"dark",hover:"","sticky-header":"",striped:"","current-page":e.currentPage,fields:e.fields,filter:e.filter,items:e.cards,"per-page":e.perPage},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[a("b-button",{attrs:{variant:"light"},on:{click:function(a){return e.openModal(t.item)}}},[a("em",{staticClass:"fa fa-trash"})])]}}])}),a("b-col",{staticClass:"my-1",staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)]),a("b-modal",{ref:"modal-remove",attrs:{id:"modal-remove",size:"md",title:"Deseja realmente remover ? ",centered:""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{size:"md",variant:"danger"},on:{click:function(t){return e.remove()}}},[e._v(" Sim ")]),a("b-button",{attrs:{size:"md",variant:"primary"},on:{click:function(t){return e.$bvModal.hide("modal-remove")}}},[e._v(" Não ")])]},proxy:!0}])},[a("p",{staticClass:"my-1"},[e._v("Ao remover, não terá mais acesso a esse item")]),a("b-overlay",{attrs:{show:e.buttonLoad,"no-wrap":""}})],1),a("b-overlay",{attrs:{show:e.buttonLoad,"no-wrap":""}})],1)},s=[],n=a("1da1"),o=(a("96cf"),a("d81d"),a("e443")),l=a("c1df"),c=a.n(l),i={name:"ScrapSource",data:function(){return{addUser:"",buttonLoad:!1,currentPage:1,fields:[{key:"id",label:"Id",sortable:!0},{key:"uid",label:"Cartão",sortable:!0},{key:"access",label:"Possui Acesso",sortable:!0},{key:"isPresent",label:"Esta Presente"},{key:"accessDate",label:"Data de Acesso"},{key:"action",label:"Ação"}],filter:null,itemToRemove:null,pageOptions:[5,10,15,{value:100,text:"Todas as páginas"}],perPage:5,cards:[],totalRows:1,options:[]}},computed:{},methods:{loadCards:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.buttonLoad=!0,t.next=4,o["a"].get("/card");case 4:return a=t.sent,t.next=7,a;case 7:r=t.sent,s=r.status,n=r.data,200===s&&(e.cards=n.map((function(e){return{id:e.id,uid:e.uid,access:e.access,isPresent:e.isPresent,accessDate:c()(e.accessDate).format("DD/MM/YY - hh:mm a")}})),e.buttonLoad=!1),t.next=18;break;case 13:return t.prev=13,t.t0=t["catch"](0),e.buttonLoad=!1,e.$toasted.global.defaultError(),t.abrupt("return");case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))()},openModal:function(e){this.$refs["modal-remove"].show(),this.itemToRemove=e},remove:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.buttonLoad=!0,a=e.itemToRemove.id,t.next=5,o["a"].delete("/card/".concat(a));case 5:return r=t.sent,t.next=8,r;case 8:if(s=t.sent,n=s.status,200!==n){t.next=16;break}return e.$toasted.global.defaultSuccess(),e.$refs["modal-remove"].hide(),t.next=15,e.reset();case 15:e.buttonLoad=!1;case 16:e.buttonLoad=!1,t.next=24;break;case 19:return t.prev=19,t.t0=t["catch"](0),e.buttonLoad=!1,e.$toasted.global.defaultError(),t.abrupt("return");case 24:case"end":return t.stop()}}),t,null,[[0,19]])})))()},reset:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addUser="",t.next=3,e.loadCards();case 3:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.buttonLoad=!0,t.next=4,o["a"].post("/user",e.form);case 4:return a=t.sent,t.next=7,a;case 7:if(r=t.sent,s=r.status,201!==s){t.next=14;break}return e.$toasted.global.defaultSuccess(),t.next=13,e.reset();case 13:e.buttonLoad=!1;case 14:e.buttonLoad=!1,t.next=22;break;case 17:return t.prev=17,t.t0=t["catch"](0),e.buttonLoad=!1,e.$toasted.global.defaultError(),t.abrupt("return");case 22:case"end":return t.stop()}}),t,null,[[0,17]])})))()}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadCards();case 1:case"end":return t.stop()}}),t)})))()},watch:{cards:function(){this.totalRows=this.cards.length}}},u=i,d=(a("c1ce"),a("2877")),m=Object(d["a"])(u,r,s,!1,null,"149f5260",null);t["default"]=m.exports},8274:function(e,t,a){},c1ce:function(e,t,a){"use strict";a("8274")}}]);
//# sourceMappingURL=chunk-fd96e65a.93f01dec.js.map